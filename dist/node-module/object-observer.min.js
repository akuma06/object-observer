const e=new WeakMap,t=new WeakMap,o=new WeakMap,r={Date:!0,Blob:!0,Number:!0,String:!0,Boolean:!0,Error:!0,SyntaxError:!0,TypeError:!0,URIError:!0,Function:!0,Promise:!0,RegExp:!0};function n(e){return r.hasOwnProperty(e.constructor.name)}function l(r,n){let l,i=t.get(r),f=o.get(i.root);return l="pop"===n?function(){let o,l,s;return o=r.length-1,l=Reflect.apply(r[n],r,arguments),(s=e.get(l))&&t.get(s).revoke(),f.notify([new h(i.path.concat(o),s||l)]),s||l}:"push"===n?function(){let e,t,o,l=[];e=Array.from(arguments),o=r.length;for(let t,r=0,n=e.length;r<n;r++)(t=e[r])&&"object"==typeof t&&(e[r]=new s(t,o+r,i).proxy),l.push(new a(i.path.concat(o+r),t));return t=Reflect.apply(r[n],r,e),f.notify(l),t}:"shift"===n?function(){let o,l;o=Reflect.apply(r[n],r,arguments),(l=e.get(o))&&t.get(l).revoke();for(let o,n,l=0,i=r.length;l<i;l++)(o=r[l])&&"object"==typeof o&&((n=t.get(e.get(o)))?n.ownKey=l:console.error("unexpectedly failed to resolve proxy -> target -> observed"));return f.notify([new h(i.path.concat(0),l||o)]),l||o}:"unshift"===n?function(){let o,l,c,p=[];(o=Array.from(arguments)).forEach((e,t)=>{e&&"object"==typeof e&&(o[t]=new s(e,t,i).proxy)}),l=Reflect.apply(r[n],r,o);for(let o,n=0,l=r.length;n<l;n++)(o=r[n])&&"object"==typeof o&&((c=t.get(e.get(o)))?c.ownKey=n:console.error("failed to resolve proxy -> target -> observed"));for(let e=0,t=o.length;e<t;e++)p.push(new a(i.path.concat(e),r[e]));return f.notify(p),l}:"reverse"===n?function(){let o;Reflect.apply(r[n],r,arguments);for(let n,l=0,i=r.length;l<i;l++)(n=r[l])&&"object"==typeof n&&((o=t.get(e.get(n)))?o.ownKey=l:console.error("failed to resolve proxy -> target -> observed"));return f.notify([new function(){this.type="reverse"}]),this}:"sort"===n?function(){let o;Reflect.apply(r[n],r,arguments);for(let n,l=0,i=r.length;l<i;l++)(n=r[l])&&"object"==typeof n&&((o=t.get(e.get(n)))?o.ownKey=l:console.error("failed to resolve proxy -> target -> observed"));return f.notify([new function(){this.type="shuffle"}]),this}:"fill"===n?function(){let o,l,c,h=[],y=arguments.length,u=r.length;o=y<2?0:arguments[1]<0?u+arguments[1]:arguments[1],l=y<3?u:arguments[2]<0?u+arguments[2]:arguments[2],c=r.slice(),Reflect.apply(r[n],r,arguments);for(let n,f,y=o;y<l;y++)(n=r[y])&&"object"==typeof n&&(r[y]=new s(n,y,i).proxy),c.hasOwnProperty(y)?((f=e.get(c[y]))&&t.get(f).revoke(),h.push(new p(i.path.concat(y),r[y],f||c[y]))):h.push(new a(i.path.concat(y),r[y]));return f.notify(h),this}:"splice"===n?function(){let o,l,c,y,u,b,g,v,w=[],d=r.length;g=(o=Array.from(arguments)).length;for(let e,t=0;t<g;t++)e=o[t],t>1&&e&&"object"==typeof e&&(o[t]=new s(e,t,i).proxy);y=0===g?0:o[0]<0?d+o[0]:o[0],u=g<2?d-y:o[1],b=Math.max(g-2,0),l=Reflect.apply(r[n],r,o),d=r.length;for(let o,n=0;n<d;n++)(o=r[n])&&"object"==typeof o&&((c=t.get(e.get(o)))?c.ownKey=n:console.error("failed to resolve proxy -> target -> observed"));for(let o,r,n=0,i=l.length;n<i;n++)o=l[n],(r=e.get(o))&&(t.get(r).revoke(),l[n]=r);for(v=0;v<u;v++)v<b?w.push(new p(i.path.concat(y+v),r[y+v],l[v])):w.push(new h(i.path.concat(y+v),l[v]));for(;v<b;v++)w.push(new a(i.path.concat(y+v),r[y+v]));return f.notify(w),l}:Reflect.get(r,n)}function i(r,l,i){let f,c,h=r.hasOwnProperty(l),y=r[l],u=t.get(r),b=o.get(u.root);if((f=i&&"object"==typeof i&&!n(i)?Reflect.set(r,l,new s(i,l,u).proxy):Reflect.set(r,l,i))&&((c=e.get(y))&&t.get(c).revoke(),b.hasListeners()&&!u.preventCallbacks)){let e=u.path.concat(l);b.notify([h?new p(e,i,c||y):new a(e,i)])}return f}function f(r,n){let l,i,f=r[n],s=t.get(r),c=o.get(s.root);if((l=Reflect.deleteProperty(r,n))&&((i=e.get(f))&&t.get(i).revoke(),c.hasListeners()&&!s.preventCallbacks)){let e=s.path.concat(n);c.notify([new h(e,i||f)])}return l}function s(o,r,c){let a=(p=o,Array.isArray(p)?p.slice():Object.assign({},p));var p;Array.isArray(a)?(!function(e,t){let o,r=e.length;for(;r--;)(o=e[r])&&"object"==typeof o&&!n(o)&&(e[r]=new s(o,r,t).proxy)}(a,this),this.revokable=Proxy.revocable(a,{set:i,get:l,deleteProperty:f})):(!function(e,t){let o,r,l=Object.keys(e),i=l.length;for(;i--;)(r=e[o=l[i]])&&"object"==typeof r&&!n(r)&&(e[o]=new s(r,o,t).proxy)}(a,this),this.revokable=Proxy.revocable(a,{set:i,deleteProperty:f})),this.targetClone=a,this.proxy=this.revokable.proxy,this.ownKey=r,this.parent=c,t.set(a,this),e.set(this.proxy,a)}function c(e){let t=!1,o=[];this.hasListeners=function(){return o.length>0},this.notify=function(e){for(let t,r=0,n=o.length;r<n;r++){t=o[r];try{t(e)}catch(e){console.error("one/some of the observing callbacks failed with ",e)}}},e.targetClone.observe=function(e){if(t)throw new TypeError("revoked Observable MAY NOT be observed anymore");if("function"!=typeof e)throw new Error("observer (callback) parameter MUST be a function");o.indexOf(e)<0?o.push(e):console.info("observer (callback) may be bound to an observable only once")},e.targetClone.unobserve=function(){if(t)throw new TypeError("revoked Observable MAY NOT be unobserved anymore");if(arguments.length)for(let e,t=0,r=arguments.length;t<r;t++)(e=o.indexOf(arguments[t]))>=0&&o.splice(e,1);else o.splice(0,o.length)},e.targetClone.revoke=function(){t?console.log("revoking of Observable effective only once"):(t=!0,e.revoke())}}function a(e,t){this.type="insert",this.path=e,this.value=t}function p(e,t,o){this.type="update",this.path=e,this.value=t,this.oldValue=o}function h(e,t){this.type="delete",this.path=e,this.oldValue=t}module.exports=c,Object.defineProperty(s.prototype,"root",{get:function(){let e=this;for(;e.parent;)e=e.parent;return e}}),Object.defineProperty(s.prototype,"path",{get:function(){let e=[],t=this;for(;void 0!==t.ownKey;)e.unshift(t.ownKey),t=t.parent;return e}}),Object.defineProperty(s.prototype,"revoke",{value:function(){let o=e.get(this.proxy),r=Object.keys(o);this.revokable.revoke();for(let n,l,i=0,f=r.length;i<f;i++)n=r[i],(l=e.get(o[n]))&&(o[n]=t.get(l).revoke());return e.delete(this.proxy),t.delete(o),o}}),Object.defineProperty(c,"from",{value:function(e){if(!(!e||"object"!=typeof e||n(e)||"observe"in e||"unobserve"in e||"revoke"in e)){let t=new s(e),r=new c(t);return o.set(t,r),t.proxy}if(!e||"object"!=typeof e)throw new Error("observable MAY ONLY be created from non-null object only");if("observe"in e||"unobserve"in e||"revoke"in e)throw new Error('target object MUST NOT have nor own neither inherited properties from the following list: "observe", "unobserve", "revoke"');if(n(e))throw new Error(e+" found to be one of non-observable object types: "+r)}}),Object.freeze(c);